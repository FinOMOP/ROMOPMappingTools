# ROMOPMappingTools

![](https://github.com/FinOMOP/ROMOPMappingTools/assets/54809193/6c195491-eceb-447c-86c9-86d66b8ee63d)

ROMOPMappingTools provides functions to validate, update, and summarize
multiple Usagi mapping files, as well as to transform them into the OMOP
vocabulary tables.

Functions can be use at three different levels:

1.  Working with individual mapping files
    - Validate Usagi mapping files: conceptIds exist in the OMOP
      vocabulary, domain combinations are correct, etc.
    - Update Usagi mapping : Automatically fixes mapping in that become
      obsolete due to new OMOP vocabulary releases.
2.  Working with multiple mapping files
    - Validate, and update multiple mapping files at once.
    - Transform and append a group of Usagi mapping files to OMOP
      vocabulary tables: Concept, concept_relationship, and
      concept_ancestor tables.
    - Run DQD on the new OMOP vocabulary tables.
    - Build a status dashboard to show the progress of multiple mapping
      files.
3.  Working with in multiple mapping files in a github repository
    - Create github action workflows to automatically validate Usagi
      files in each pull request.
    - Create github action workflows to automatically update the
      progress dashboard when a pull request is merged.

[See vignettes for
details](https://finomop.github.io/ROMOPMappingTools/). [See FimOMOP
repository for an example of how to use the package in a github
repository](https://github.com/FinOMOP/FinOMOP_mappings).

# Package index

## All functions

- [`LogTibble`](https://finomop.github.io/ROMOPMappingTools/reference/LogTibble.md)
  : LogTibble
- [`STCMToCDMTables()`](https://finomop.github.io/ROMOPMappingTools/reference/STCMToCDMTables.md)
  : Convert Source to Concept Map to CDM Tables
- [`appendUsagiFileToSTCMtable()`](https://finomop.github.io/ROMOPMappingTools/reference/appendUsagiFileToSTCMtable.md)
  : Append Usagi File to Source to Concept Map Table
- [`autoFixDatabaseCodeCountsFile()`](https://finomop.github.io/ROMOPMappingTools/reference/autoFixDatabaseCodeCountsFile.md)
  : autoFixDatabaseCodeCountTable
- [`buildStatusDashboard()`](https://finomop.github.io/ROMOPMappingTools/reference/buildStatusDashboard.md)
  : Build Status Dashboard
- [`buildUpdateStatusMd()`](https://finomop.github.io/ROMOPMappingTools/reference/buildUpdateStatusMd.md)
  : Build Update Status Markdown
- [`buildValidationStatusMd()`](https://finomop.github.io/ROMOPMappingTools/reference/buildValidationStatusMd.md)
  : Build Validation Status Markdown
- [`buildVocabulariesAll()`](https://finomop.github.io/ROMOPMappingTools/reference/buildVocabulariesAll.md)
  : Run All Validation and Upload Steps
- [`calculateMappingStatus()`](https://finomop.github.io/ROMOPMappingTools/reference/calculateMappingStatus.md)
  : calculateMappingStatus
- [`conceptRelationshipToAncestorTables()`](https://finomop.github.io/ROMOPMappingTools/reference/conceptRelationshipToAncestorTables.md)
  : Convert CONCEPT_RELATIONSHIP to CONCEPT_ANCESTOR
- [`createSourceToConceptMapExtended()`](https://finomop.github.io/ROMOPMappingTools/reference/createSourceToConceptMapExtended.md)
  : Create Extended Source to Concept Map Table
- [`.background_bar_reactable_style()`](https://finomop.github.io/ROMOPMappingTools/reference/dot-background_bar_reactable_style.md)
  : Render a bar chart in the background of the cell
- [`.getCodeCountsForVocabularyAndDatabase()`](https://finomop.github.io/ROMOPMappingTools/reference/dot-getCodeCountsForVocabularyAndDatabase.md)
  : Get code counts for a vocabulary and database
- [`.getDatabaseSummaryForVocabulary()`](https://finomop.github.io/ROMOPMappingTools/reference/dot-getDatabaseSummaryForVocabulary.md)
  : Get database summary for a vocabulary
- [`.getSummaryListForVocabulary()`](https://finomop.github.io/ROMOPMappingTools/reference/dot-getSummaryListForVocabulary.md)
  : Get summary list for a vocabulary
- [`.getSummaryTableForVocabularyAndDatabase()`](https://finomop.github.io/ROMOPMappingTools/reference/dot-getSummaryTableForVocabularyAndDatabase.md)
  : Get summary table for a vocabulary and database
- [`.getUsagiSummaryForVocabulary()`](https://finomop.github.io/ROMOPMappingTools/reference/dot-getUsagiSummaryForVocabulary.md)
  : Get Usagi summary for a vocabulary
- [`.pageCoverageVocabularyDatabases()`](https://finomop.github.io/ROMOPMappingTools/reference/dot-pageCoverageVocabularyDatabases.md)
  : Render coverage page for a vocabulary and its databases
- [`.pageSummaryAllVocabularies()`](https://finomop.github.io/ROMOPMappingTools/reference/dot-pageSummaryAllVocabularies.md)
  : Render summary page for all vocabularies
- [`.plotSummaryTableForUsagiFile()`](https://finomop.github.io/ROMOPMappingTools/reference/dot-plotSummaryTableForUsagiFile.md)
  : Plot summary table for Usagi file
- [`.plotSummaryTableForVocabularyAndDatabase()`](https://finomop.github.io/ROMOPMappingTools/reference/dot-plotSummaryTableForVocabularyAndDatabase.md)
  : Plot summary table for a vocabulary and database
- [`.plotTableForUsagiFile()`](https://finomop.github.io/ROMOPMappingTools/reference/dot-plotTableForUsagiFile.md)
  : Plot Usagi file table
- [`.plotTableForVocabularyAndDatabase()`](https://finomop.github.io/ROMOPMappingTools/reference/dot-plotTableForVocabularyAndDatabase.md)
  : Plot detailed table for a vocabulary and database
- [`.plotTableSummaryAllVocabularies()`](https://finomop.github.io/ROMOPMappingTools/reference/dot-plotTableSummaryAllVocabularies.md)
  : Plot summary table for all vocabularies
- [`.tip_reactable_cell()`](https://finomop.github.io/ROMOPMappingTools/reference/dot-tip_reactable_cell.md)
  : Tooltip for reactable cell
- [`duckdbToOMOPVocabularyCSVs()`](https://finomop.github.io/ROMOPMappingTools/reference/duckdbToOMOPVocabularyCSVs.md)
  : Export vocabulary tables from a database to CSV files
- [`helper_createATemporaryCopyOfTheOMOPVocabularyDuckDB()`](https://finomop.github.io/ROMOPMappingTools/reference/helper_createATemporaryCopyOfTheOMOPVocabularyDuckDB.md)
  : Create a Temporary Copy of the OMOP Vocabulary DuckDB
- [`omopVocabularyCSVsToDuckDB()`](https://finomop.github.io/ROMOPMappingTools/reference/omopVocabularyCSVsToDuckDB.md)
  : Convert OMOP Vocabulary CSVs to Database
- [`plotTableMappingStatus()`](https://finomop.github.io/ROMOPMappingTools/reference/plotTableMappingStatus.md)
  : tableMappingStatus
- [`plotTableVocabularyStatus()`](https://finomop.github.io/ROMOPMappingTools/reference/plotTableVocabularyStatus.md)
  : Plot Table Vocabulary Status
- [`readUsagiFile()`](https://finomop.github.io/ROMOPMappingTools/reference/readUsagiFile.md)
  : Read Usagi File
- [`updateUsagiFile()`](https://finomop.github.io/ROMOPMappingTools/reference/updateUsagiFile.md)
  : Validate Usagi File
- [`updateVocabularyFolder()`](https://finomop.github.io/ROMOPMappingTools/reference/updateVocabularyFolder.md)
  : Update Vocabulary Folder
- [`validateCDMtablesWithDQD()`](https://finomop.github.io/ROMOPMappingTools/reference/validateCDMtablesWithDQD.md)
  : Validate CDM Tables Using Data Quality Dashboard
- [`validateCodeCountsFile()`](https://finomop.github.io/ROMOPMappingTools/reference/validateCodeCountsFile.md)
  : Validate Code Counts Folder
- [`validateCodeCountsFolder()`](https://finomop.github.io/ROMOPMappingTools/reference/validateCodeCountsFolder.md)
  : Validate Code Counts Folder
- [`validateUsagiFile()`](https://finomop.github.io/ROMOPMappingTools/reference/validateUsagiFile.md)
  : Validate Usagi File
- [`validateVocabularyFolder()`](https://finomop.github.io/ROMOPMappingTools/reference/validateVocabularyFolder.md)
  : Validate Vocabulary Folder
- [`vocabularyFolderToSTCMVocabularyConcepClassTables()`](https://finomop.github.io/ROMOPMappingTools/reference/vocabularyFolderToSTCMVocabularyConcepClassTables.md)
  : Upload Vocabulary Folder to CDM Tables
- [`writeUsagiFile()`](https://finomop.github.io/ROMOPMappingTools/reference/writeUsagiFile.md)
  : Write a Usagi mapping file

# Articles

### All vignettes

- [Tables description and
  rules](https://finomop.github.io/ROMOPMappingTools/articles/filesFormat.md):
- [Running the complete mapping
  process](https://finomop.github.io/ROMOPMappingTools/articles/workAsGithubRepo.md):
- [Step by step example using individual
  functions](https://finomop.github.io/ROMOPMappingTools/articles/workWithMultipleMappingFiles.md):
- [Working with individual mapping
  files](https://finomop.github.io/ROMOPMappingTools/articles/workWithOneMappingFile.md):
