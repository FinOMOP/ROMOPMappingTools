% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/appendUsagiFileToSTCMtable.R
\name{appendUsagiFileToSTCMtable}
\alias{appendUsagiFileToSTCMtable}
\title{Append Usagi File to Source to Concept Map Table}
\usage{
appendUsagiFileToSTCMtable(
  vocabularyId,
  pathToUsagiFile,
  connection,
  vocabularyDatabaseSchema,
  sourceToConceptMapTable,
  includeConcepts = c("APPROVED", "UNCHECKED", "INVALID_TARGET"),
  includeMappings = c("APPROVED"),
  skipValidation = TRUE,
  sourceConceptIdOffset = 0
)
}
\arguments{
\item{vocabularyId}{String with the vocabulary ID}

\item{pathToUsagiFile}{Path to the Usagi file}

\item{connection}{Database connection object}

\item{vocabularyDatabaseSchema}{Schema name containing vocabulary tables}

\item{sourceToConceptMapTable}{Name of source to concept map table}

\item{includeConcepts}{Vector of mapping statuses to include. Must be subset of:
"APPROVED", "UNCHECKED", "FLAGGED", "INEXACT", "INVALID_TARGET"}

\item{includeMappings}{Vector of mapping statuses to include. Must be subset of:
"APPROVED", "UNCHECKED", "FLAGGED", "INVALID_TARGET"}

\item{skipValidation}{Whether to skip validation of the Usagi file (default: TRUE)}

\item{sourceConceptIdOffset}{Offset to add to source concept IDs (default: 0)}
}
\value{
NULL invisibly. The function modifies the database table directly.
}
\description{
Reads a Usagi mapping file and appends its contents to a Source to Concept Map table.
The function supports both default and extended formats for both Usagi files and STCM tables.
}
\details{
Default STCM columns:
\itemize{
\item source_code, source_concept_id, source_vocabulary_id, source_code_description
\item target_concept_id, target_vocabulary_id, valid_start_date, valid_end_date
\item invalid_reason
}

Extended STCM columns (includes all default columns plus):
\itemize{
\item source_concept_class
\item source_domain
\item source_parents_concept_ids
}

Extended Usagi columns:
\itemize{
\item ADD_INFO:sourceConceptId
\item ADD_INFO:sourceConceptClass
\item ADD_INFO:sourceDomain
}

If formats don't match (e.g., extended Usagi with default STCM), the extended information
will be ignored with a warning.
}
